
(function($){$.fn.fullscreenbg=function(opts){var defaults={bgID:'#bgimg',widthOnly:false};var options=$.extend({},defaults,opts);$(options.bgID).imagesLoaded(function($images,$proper,$broken){var img=$proper[0];if(!img.width||!img.height)return;options.width=img.width;options.height=img.height;$(options.bgID).fullscreenbgResizer(options);});$(window).bind("resize",function(){$(options.bgID).fullscreenbgResizer(options);});return this;};$.fn.fullscreenbgResizer=function(options){$(options.bgID)[0].style.visibility='visible';if(options.widthOnly||($(options.bgID).attr('widthOnly')!=null)){var browserwidth=$(window).width();$(this).width(browserwidth);$(this).css('left',(browserwidth-$(this).width())/2);}else{var browserwidth=$(window).width();var browserheight=$(window).height();var ratio=options.height/options.width;if((browserheight/browserwidth)>ratio){$(this).height(browserheight);$(this).width(browserheight/ratio);}else{$(this).width(browserwidth);$(this).height(browserwidth*ratio);}
$(this).css('left',(browserwidth-$(this).width())/2);$(this).css('top',(browserheight-$(this).height())/2);}
return this;};})(jQuery);